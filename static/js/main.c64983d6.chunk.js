(this["webpackJsonpreact-ze"]=this["webpackJsonpreact-ze"]||[]).push([[0],{101:function(t,e,n){},102:function(t,e,n){},103:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(6),s=n.n(c),o=n(17),l=n(33),i=n(64),d={},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_ADDRESS":return Object(i.a)({},e.Address);default:return t}},p=Object(l.b)({Address:u}),m=Object(l.c)(p),v=n(60),g=n(25),h=n(12),f=n.n(h),b=n(21),y=n(134),E=n(137),w=n(135),S=n(41),j=n.n(S),O=n(59),N=n.n(O),A=n(35),x=n.n(A),I=x.a.create({baseURL:"https://api.opencagedata.com/geocode/v1/json"});I.getAddressParams=function(t){var e,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={q:t,key:"d75c8fb7f8d74e039afd3ed148012678"},a.next=3,f.a.awrap(I.get("",{params:e}));case 3:return n=a.sent,a.abrupt("return",n.data);case 5:case"end":return a.stop()}}))};var _=I,k=function(t){return{type:"SET_ADDRESS",Address:t.Address}};n(97);function $(){var t=Object(a.useState)(""),e=Object(b.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)([]),l=Object(b.a)(s,2),i=l[0],d=l[1],u=Object(a.useState)(0),p=Object(b.a)(u,2),m=p[0],v=p[1],g=Object(a.useState)(!1),h=Object(b.a)(g,2),S=h[0],O=h[1],A=Object(o.b)(),x=function(){var t,e,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,O(!0),r.next=4,f.a.awrap(_.getAddressParams(n));case 4:t=r.sent,e=t.results,a=t.rate,d(e),v(a.remaining),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0);case 14:return r.prev=14,O(!1),r.finish(14);case 17:case"end":return r.stop()}}),null,null,[[0,11,14,17]])};return r.a.createElement("div",{className:"search-address"},r.a.createElement("div",{className:"search"},r.a.createElement(y.a,{id:"outlined-basic",placeholder:"Insira o endere\xe7o e n\xfamero",variant:"outlined",value:n,onChange:function(t){c(t.target.value)},InputProps:{startAdornment:r.a.createElement(E.a,{position:"start"},r.a.createElement(j.a,null))},onKeyPress:function(t){"Enter"===t.key&&x()}}),r.a.createElement(w.a,{onClick:x,variant:"contained",color:"primary",disabled:S},r.a.createElement(N.a,null)," ",m?r.a.createElement(r.a.Fragment,null,"(",m,")"):null)),i.map((function(t){return r.a.createElement("div",{className:"address-info",onClick:function(){A(k({Address:t}))},key:t.annotations.geohash},r.a.createElement(j.a,{className:"address-info-icon"}),r.a.createElement("span",{className:"address-description"},t.formatted))})))}var D="query pocSearchMethod($now: DateTime!, $algorithm: String!, $lat: String!, $long: String!) {\n\tpocSearch(now: $now, algorithm: $algorithm, lat: $lat, long: $long) {\n\t\t__typename\n\t\tid\n\t\tstatus\n\t\ttradingName\n\t\tofficialName\n\t\tdeliveryTypes {\n\t\t\t__typename\n\t\t\tpocDeliveryTypeId\n\t\t\tdeliveryTypeId\n\t\t\tprice\n\t\t\ttitle\n\t\t\tsubtitle\n\t\t\tactive\n\t\t}\n\t\tpaymentMethods {\n\t\t\t__typename\n\t\t\tpocPaymentMethodId\n\t\t\tpaymentMethodId\n\t\t\tactive\n\t\t\ttitle\n\t\t\tsubtitle\n\t\t}\n\t\tpocWorkDay {\n\t\t\t__typename\n\t\t\tweekDay\n\t\t\tactive\n\t\t\tworkingInterval {\n\t\t\t\t__typename\n\t\t\t\topeningTime\n\t\t\t\tclosingTime\n\t\t\t}\n\t\t}\n\t\taddress {\n\t\t\t__typename\n\t\t\taddress1\n\t\t\taddress2\n\t\t\tnumber\n\t\t\tcity\n\t\t\tprovince\n\t\t\tzip\n\t\t\tcoordinates\n\t\t}\n\t\tphone {\n\t\t__typename\n\t\tphoneNumber\n\t\t}\n\t}\n}",T="query poc($id: ID!, $categoryId: Int, $search: String){\n\tpoc(id: $id) {\n\t  id\n\t  products(categoryId: $categoryId, search: $search) {\n\t\tid\n\t\ttitle\n\t\trgb\n\t\timages {\n\t\t  url\n\t\t}\n\t\tproductVariants {\n\t\t  availableDate\n\t\t  productVariantId\n\t\t  price\n\t\t  inventoryItemId\n\t\t  shortDescription\n\t\t  title\n\t\t  published\n\t\t  volume\n\t\t  volumeUnit\n\t\t  description\n\t\t  subtitle\n\t\t  components {\n\t\t\tid\n\t\t\tproductVariantId\n\t\t\tproductVariant {\n\t\t\t  id\n\t\t\t  title\n\t\t\t  description\n\t\t\t  shortDescription\n\t\t\t}\n\t\t  }\n\t\t}\n\t  }\n\t}\n  }",C="query allCategoriesSearch {\n\tallCategory{\n\t  title\n\t  id\n\t}\n  }\n",q=x.a.create({baseURL:"https://api.code-challenge.ze.delivery/public/graphql"});q.getAddress=function(){var t,e,n,a,r,c=arguments;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"NEAREST",e=c.length>1&&void 0!==c[1]?c[1]:"-23.632919",n=c.length>2&&void 0!==c[2]?c[2]:"-46.699453",a=c.length>3&&void 0!==c[3]?c[3]:"2017-08-01T20:00:00.000Z",s.prev=4,s.next=7,f.a.awrap(q.post("",{query:D,variables:{algorithm:t,lat:e,long:n,now:a}}));case 7:return r=s.sent,s.abrupt("return",r.data);case 11:throw s.prev=11,s.t0=s.catch(4),console.error(s.t0),s.t0;case 15:case"end":return s.stop()}}),null,null,[[4,11]])},q.getProducts=function(){var t,e,n,a,r=arguments;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"532",e=r.length>1&&void 0!==r[1]?r[1]:"",n=r.length>2&&void 0!==r[2]?r[2]:null,c.prev=3,c.next=6,f.a.awrap(q.post("",{query:T,variables:{id:t,search:e,categoryId:n}}));case 6:return a=c.sent,c.abrupt("return",a.data);case 10:throw c.prev=10,c.t0=c.catch(3),console.error(c.t0),c.t0;case 14:case"end":return c.stop()}}),null,null,[[3,10]])},q.getAllCategoriesSearch=function(){var t,e,n,a,r,c=arguments;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"NEAREST",e=c.length>1&&void 0!==c[1]?c[1]:"-23.632919",n=c.length>2&&void 0!==c[2]?c[2]:"-46.699453",a=c.length>3&&void 0!==c[3]?c[3]:"2017-08-01T20:00:00.000Z",s.prev=4,s.next=7,f.a.awrap(q.post("",{query:C,variables:{algorithm:t,lat:e,long:n,now:a}}));case 7:return r=s.sent,s.abrupt("return",r.data);case 11:throw s.prev=11,s.t0=s.catch(4),console.error(s.t0),s.t0;case 15:case"end":return s.stop()}}),null,null,[[4,11]])};var P=q;function R(){var t=Object(o.c)((function(t){return t.Address})),e=Object(a.useState)([]),n=Object(b.a)(e,2),c=n[0],s=n[1],l=Object(a.useState)([]),i=Object(b.a)(l,2),d=i[0],u=i[1],p=Object(a.useState)(!1),m=Object(b.a)(p,2),v=(m[0],m[1]);return Object(a.useEffect)((function(){!function(){var t,e;f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(!0),n.next=4,f.a.awrap(P.getAllCategoriesSearch());case 4:return t=n.sent,s(t.data.allCategory),n.next=8,f.a.awrap(P.getProducts());case 8:e=n.sent,u(e.data.poc.products),console.log("resultCategoriesSearch",t),console.log("resultProducts",e),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:return n.prev=17,v(!1),n.finish(17);case 20:case"end":return n.stop()}}),null,null,[[0,14,17,20]])}()}),[t]),r.a.createElement("div",null,c&&c.map((function(t){return r.a.createElement("div",{key:t.id},t.title)})),d&&d.map((function(t){return r.a.createElement("div",{key:t.id},t.title)})))}n(99);function z(){var t=Object(o.c)((function(t){return t.Address}));return r.a.createElement("div",{className:"home"},t&&t.geometry?r.a.createElement(R,null):r.a.createElement($,null))}function M(){return r.a.createElement(v.a,{basename:"/react-ze"},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:z})))}var V=n(63),U=n.n(V),F=n(62),J=n.n(F);n(101);function L(){var t=Object(o.c)((function(t){return t.Address})),e=Object(o.b)();return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"content"},r.a.createElement("img",{src:J.a,alt:"ze logo",className:"logo"}),t&&t.geometry?r.a.createElement("div",{className:"address"},r.a.createElement("div",{className:"content-address"},r.a.createElement("span",{className:"address-title"},"Receber agora em:"),r.a.createElement("span",{className:"address-info"},t.formatted)),r.a.createElement(U.a,{className:"delete-address",onClick:function(){e(k({Address:{}}))}})):null))}n(102);s.a.render(r.a.createElement((function(){return r.a.createElement(o.a,{store:m},r.a.createElement("div",{className:"app"},r.a.createElement(L,null),r.a.createElement(M,null),r.a.createElement("div",null,"Footer")))}),null),document.getElementById("root"))},62:function(t,e,n){t.exports=n.p+"static/media/logo.8df94341.png"},69:function(t,e,n){t.exports=n(103)},97:function(t,e,n){},99:function(t,e,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.c64983d6.chunk.js.map